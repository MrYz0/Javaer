---
title: Seté›†åˆ
date: 2022-07-21 20:58:01
permalink: /pages/b50c24/
categories:
  - ã€ŠJavaæ•™ç¨‹ã€‹ç¬”è®°
  - é›†åˆ
tags:
  - 
author: 
  name: æ¨æ´²
  link: https://github.com/xugaoyi
---

# Seté›†åˆ

## æ¦‚å¿µ

**Setç³»åˆ—é›†åˆç‰¹ç‚¹ï¼š**

- æ— åºï¼šå­˜å–é¡ºåºä¸ä¸€è‡´
- ä¸é‡å¤ï¼šå¯ä»¥å»é™¤é‡å¤
- æ— ç´¢å¼•ï¼šæ²¡æœ‰å¸¦ç´¢å¼•çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æ™®é€šforå¾ªç¯éå†ï¼Œä¹Ÿä¸èƒ½é€šè¿‡ç´¢å¼•è·å–å…ƒç´ ã€‚

Set**å®ç°äº†Collectionæ¥å£**ï¼Œå®ƒä¸»è¦æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„å®ç°ç±»ï¼š**HashSetç±»å’ŒTreeSetç±»**

![1654993837755](/JavaCore/img/Java/Java-91.png)

**Seté›†åˆå®ç°ç±»ç‰¹ç‚¹ï¼š**

- HashSet:æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•
- LinkedHashset:æœ‰åºã€ä¸é‡å¤ã€æ— ç´¢å¼•
- TreeSet:æ’åºã€ä¸é‡å¤ã€æ— ç´¢å¼•

## HashSetç±»

**HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°**ï¼Œå¤§å¤šæ•°æ—¶å€™ä½¿ç”¨Seté›†åˆæ—¶å°±æ˜¯ä½¿ç”¨è¿™ä¸ªå®ç°ç±»ã€‚HashSetæ˜¯æŒ‰ç…§Hashç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ã€‚å› æ­¤**å…·æœ‰å¾ˆå¥½çš„å­˜å–å’ŒæŸ¥æ‰¾æ€§èƒ½**ã€‚

HashSetå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åºé¡ºåºï¼Œé¡ºåºå¯èƒ½ä¸æ·»åŠ é¡ºåºä¸åŒï¼Œé¡ºåºä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚
- HashSetä¸èƒ½åŒæ­¥ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æˆ–ä¿®æ”¹ä¸€ä¸ªHashSetï¼Œåˆ™å¿…é¡»é€šè¿‡ä»£ç æ¥ä¿è¯å…¶åŒæ­¥ã€‚
- é›†åˆå…ƒç´ å€¼å¯ä»¥æ˜¯null

å½“å‘ HashSet é›†åˆå­˜æ”¾ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œ HashSet  ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„`hashCode()`æ–¹æ³•æ¥å¾—åˆ°è¯¥å¯¹è±¡çš„ **hashCodeå€¼**ï¼Œç„¶åæ ¹æ®hashCodeå€¼è§‰å¾—è¯¥å¯¹è±¡åœ¨HashSet ä¸­çš„å­˜å‚¨ä½ç½®ã€‚å¦‚æœæœ‰ä¸¤ä¸ªå…ƒç´ é€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›çš„ç»“æœä¸ºtrueï¼Œä½†å®ƒä»¬çš„hashCodeä¸ç›¸ç­‰ï¼ŒHashSetå°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ï¼Œä¾ç„¶å¯ä»¥æ·»åŠ æˆåŠŸã€‚

**ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸¤ä¸ªå¯¹è±¡çš„ hashCode å€¼ç›¸ç­‰ä¸”é€šè¿‡ equals() æ–¹æ³•æ¯”è¾ƒè¿”å›ç»“æœä¸º trueï¼Œåˆ™ HashSet é›†åˆè®¤ä¸ºä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ã€‚**

åœ¨HashSetç±»ä¸­å®ç°äº†Collectionæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚HashSetç±»çš„å¸¸ç”¨æ„é€ æ–¹æ³•é‡è½½å½¢å¼å¦‚ä¸‹ã€‚

- HashSet()ï¼šæ„é€ äº†ä¸€ä¸ªæ–°çš„ç©ºçš„Seté›†åˆã€‚
- HashSet(Collection<?extends E>c):æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®šçš„Collectioné›†åˆå…ƒç´ çš„æ–°çš„Seté›†åˆã€‚å…¶ä¸­ï¼Œ"< >"ä¸­çš„extendsè¡¨ç¤ºHashSetçš„çˆ¶ç±»ï¼Œå³æŒ‡æ˜è¯¥Seté›†åˆä¸­å­˜æ”¾çš„é›†åˆå…ƒç´ ç±»å‹ã€‚cè¡¨ç¤ºå…¶ä¸­çš„å…ƒç´ è¢«å­˜æ”¾åœ¨æ­¤Seté›†åˆä¸­ã€‚

ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†åˆ›å»ºä¸¤ç§ä¸åŒå½¢å¼çš„ HashSet å¯¹è±¡ã€‚

```java
HashSet hs = new HashSet();    // è°ƒç”¨æ— å‚çš„æ„é€ å‡½æ•°åˆ›å»ºHashSetå¯¹è±¡
HashSet<String> hss = new HashSet<String>();    // åˆ›å»ºæ³›å‹çš„ HashSet é›†åˆå¯¹è±¡anl 
```

**æ¡ˆä¾‹**

ç¼–å†™ä¸€ä¸ªJavaç¨‹åºï¼Œä½¿ç”¨HashSetåˆ›å»ºä¸€ä¸ªSeté›†åˆï¼Œå¹¶å‘è¯¥é›†åˆä¸­æ·»åŠ  4 å¥—æ•™ç¨‹ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š

```java
public class Example01 {
    public static void main(String[] args) {
        HashSet<String> set = new HashSet<>();
        String course1 = "å¾®ç§¯åˆ†A";
        String course2 = "å¾®ç§¯åˆ†B";
        String course3 = "çº¿æ€§ä»£æ•°";
        String course4 = "æ¦‚ç‡è®º";
        set.add(course1);// å°† course1 å­˜å‚¨åˆ° Set é›†åˆä¸­
        set.add(course2);// å°† course2 å­˜å‚¨åˆ° Set é›†åˆä¸­
        set.add(course3);// å°† course3 å­˜å‚¨åˆ° Set é›†åˆä¸­
        set.add(course4);// å°† course4 å­˜å‚¨åˆ° Set é›†åˆä¸­
        System.out.println("æ•°å­¦æ•™ç¨‹æœ‰ï¼š");
        Iterator iterator = set.iterator();
        while (iterator.hasNext()) {
            Object next = iterator.next();
            System.out.println(next);
        }
        System.out.println("æœ‰" + set.size() + "å¥—ç²¾å½©æ•™ç¨‹ï¼");
    }
}
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

![1655001710294](/JavaCore/img/Java/Java-92.png)

::: tip æ³¨æ„

åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œå¦‚æœå†å‘ CourseSet é›†åˆä¸­å†æ·»åŠ ä¸€ä¸ªåç§°ä¸ºâ€œå¾®ç§¯åˆ†Aâ€çš„ String å¯¹è±¡ï¼Œåˆ™è¾“å‡ºçš„ç»“æœä¸ä¸Šè¿°æ‰§è¡Œç»“æœç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**å¦‚æœå‘ Set é›†åˆä¸­æ·»åŠ ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ï¼Œåˆ™åæ·»åŠ çš„ä¼šè¦†ç›–å‰é¢æ·»åŠ çš„å…ƒç´ ï¼Œå³åœ¨ Set é›†åˆä¸­ä¸ä¼šå‡ºç°ç›¸åŒçš„å…ƒç´ **ã€‚

:::

## TreeSet

**TreeSetç±»åŒæ—¶å®ç°äº†Setæ¥å£å’ŒSortedSetæ¥å£ã€‚SortedSetæ¥å£æ˜¯Setæ¥å£çš„å­æ¥å£ï¼Œå¯ä»¥å®ç°å¯¹é›†åˆè¿›è¡Œè‡ªç„¶æ’åº**ï¼Œå› æ­¤ä½¿ç”¨TreeSetç±»å®ç°çš„Setæ¥å£é»˜è®¤æƒ…å†µä¸‹æ˜¯è‡ªç„¶æ’åºçš„ï¼Œè¿™é‡Œçš„è‡ªç„¶æ’åºæŒ‡çš„æ˜¯å‡åºæ’åºã€‚

TreeSetåªèƒ½å¯¹æ˜¯å®ç°äº†Comparableæ¥å£çš„ç±»å¯¹è±¡è¿›è¡Œæ’åºï¼Œå› ä¸ºComparableæ¥å£ä¸­æœ‰ä¸€ä¸ªcompareToï¼ˆObject oï¼‰æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¤§å°ã€‚ä¾‹å¦‚a.compareTo(b),å¦‚æœa=bï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›0ï¼›å¦‚æœa>bï¼Œ åˆ™è¯¥æ–¹æ³•è¿”å›å¤§äº 0 çš„å€¼ï¼›å¦‚æœ a < bï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›å°äº 0 çš„å€¼ã€‚

ğŸ‘‡è¡¨åˆ—ä¸¾äº† JDK ç±»åº“ä¸­å®ç° Comparable æ¥å£çš„ç±»ï¼Œä»¥åŠè¿™äº›ç±»å¯¹è±¡çš„æ¯”è¾ƒæ–¹å¼ã€‚

|                              ç±»                              |                  æ¯”æ–¹å¼                   |
| :----------------------------------------------------------: | :---------------------------------------: |
| åŒ…è£…ç±»ï¼ˆBigDecimalã€Biglntegerã€ Byteã€Doubleã€Floatã€Integerã€Long åŠ Short) |              æŒ‰æ•°å­—å¤§å°æ¯”è¾ƒ               |
|                          Character                           |     æŒ‰å­—ç¬¦çš„ Unicode å€¼çš„æ•°å­—å¤§å°æ¯”è¾ƒ     |
|                            String                            | æŒ‰å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ Unicode å€¼çš„æ•°å­—å¤§å°æ¯”è¾ƒ |

TreeSet ç±»é™¤äº†å®ç° Collection æ¥å£çš„æ‰€æœ‰æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æä¾›äº†å¦‚ğŸ‘‡è¡¨æ‰€ç¤ºçš„æ–¹æ³•ã€‚

![1655002143056](/JavaCore/img/Java/Java-93.png)

::: tip  æ³¨æ„

è¡¨é¢ä¸Šçœ‹èµ·æ¥è¿™äº›æ–¹æ³•å¾ˆå¤šï¼Œå…¶å®å¾ˆç®€å•ã€‚å› ä¸º TreeSet ä¸­çš„å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å¢åŠ äº†è®¿é—®ç¬¬ä¸€ä¸ªã€å‰ä¸€ä¸ªã€åä¸€ä¸ªã€æœ€åä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•ï¼Œå¹¶æä¾›äº† 3 ä¸ªä» TreeSet ä¸­æˆªå–å­ TreeSet çš„æ–¹æ³•ã€‚

:::

**æ¡ˆä¾‹**

æœ¬æ¬¡æœ‰ 5 åå­¦ç”Ÿå‚åŠ è€ƒè¯•ï¼Œå½“è€å¸ˆå½•å…¥æ¯åå­¦ç”Ÿçš„æˆç»©åï¼Œç¨‹åºå°†æŒ‰ç…§ä»ä½åˆ°é«˜çš„æ’åˆ—é¡ºåºæ˜¾ç¤ºå­¦ç”Ÿæˆç»©ã€‚æ­¤å¤–ï¼Œè€å¸ˆå¯ä»¥æŸ¥è¯¢æœ¬æ¬¡è€ƒè¯•æ˜¯å¦æœ‰æ»¡åˆ†çš„å­¦ç”Ÿå­˜åœ¨ï¼Œä¸åŠæ ¼çš„æˆç»©æœ‰å“ªäº›ï¼Œ90 åˆ†ä»¥ä¸Šæˆç»©çš„å­¦ç”Ÿæœ‰å‡ åã€‚

ä¸‹é¢ä½¿ç”¨ TreeSet ç±»æ¥åˆ›å»º Set é›†åˆï¼Œå®Œæˆå­¦ç”Ÿæˆç»©æŸ¥è¯¢åŠŸèƒ½ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼š

```java
public class Example02 {
    public static void main(String[] args) {
        TreeSet<Double> scores = new TreeSet<>();   // åˆ›å»º TreeSet é›†åˆ
        Scanner input = new Scanner(System.in);
        System.out.println("------------å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ-------------");
        for (int i = 0;i < 5 ; i++){
            System.out.println("ç¬¬"+(i+1)+"å­¦ç”Ÿçš„æˆç»©");
            double score = input.nextDouble();      //è¾“å…¥å­¦ç”Ÿæˆç»©
            scores.add(score);                      //å°†å­¦ç”Ÿæˆç»©å­˜å‚¨åˆ°TreeSeté›†åˆä¸­
        }
        Iterator<Double> it = scores.iterator(); // åˆ›å»º Iterator å¯¹è±¡
        System.out.println("å­¦ç”Ÿæˆç»©ä»ä½åˆ°é«˜çš„æ’åºä¸ºï¼š");
        while (it.hasNext()) {
            System.out.print(it.next() + "\t");
        }
        System.out.println("\nè¯·è¾“å…¥è¦æŸ¥è¯¢çš„æˆç»©");
        double searchScore = input.nextDouble();
        if (scores.contains(searchScore)){
            System.out.println("æˆç»©ä¸ºï¼š " + searchScore + " çš„å­¦ç”Ÿå­˜åœ¨ï¼");
        }else {
            System.out.println("æˆç»©ä¸ºï¼š " + searchScore + " çš„å­¦ç”Ÿä¸å­˜åœ¨ï¼");
        }
        // æŸ¥è¯¢ä¸åŠæ ¼çš„å­¦ç”Ÿæˆç»©
        SortedSet<Double> score1 = scores.headSet(60.0);
        System.out.println("\nä¸åŠæ ¼çš„æˆç»©æœ‰ï¼š");
        for (int i = 0;i < score1.toArray().length;i++){
            System.out.print(score1.toArray()[i] + "\t");
        }
        // æŸ¥è¯¢90åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿæˆç»©
        SortedSet<Double> score2 = scores.tailSet(90.0);
        System.out.println("\n90 åˆ†ä»¥ä¸Šçš„æˆç»©æœ‰ï¼š");
        for (int i = 0;i < score2.toArray().length;i++){
            System.out.print(score2.toArray()[i] + "\t");
        }
    }
}
```

è¿è¡Œç»“æœï¼š

![1655003743965](/JavaCore/img/Java/Java-94.png)

::: æ³¨æ„

åœ¨ä½¿ç”¨è‡ªç„¶æ’åºæ—¶åªèƒ½å‘ TreeSet é›†åˆä¸­æ·»åŠ ç›¸åŒæ•°æ®ç±»å‹çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ›å‡º ClassCastException å¼‚å¸¸ã€‚å¦‚æœå‘ TreeSet é›†åˆä¸­æ·»åŠ äº†ä¸€ä¸ª Double ç±»å‹çš„å¯¹è±¡ï¼Œåˆ™åé¢åªèƒ½æ·»åŠ  Double å¯¹è±¡ï¼Œä¸èƒ½å†æ·»åŠ å…¶ä»–ç±»å‹çš„å¯¹è±¡ï¼Œä¾‹å¦‚ String å¯¹è±¡ç­‰ã€‚

:::
